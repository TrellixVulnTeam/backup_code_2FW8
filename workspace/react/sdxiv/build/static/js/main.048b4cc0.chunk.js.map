{"version":3,"sources":["index.js"],"names":["columns","title","dataIndex","key","render","func","record","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","antd__WEBPACK_IMPORTED_MODULE_5__","onClick","orderColumns","Shopping","_ref","onPush","handlePush","message","info","data","type","price","size","likes","action","antd__WEBPACK_IMPORTED_MODULE_7__","dataSource","Order","_ref2","_ref2$datas","datas","all_data","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_loop","d","value","ac","find","v","amount","count","length","push","_iterator","Symbol","iterator","next","done","err","return","priceAmount","reduce","p","footer","concat","rootElement","document","getElementById","ReactDOM","_useState","useState","_useState2","Object","D_workspace_react_sdxiv_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","shopList","setShopList","className","D_workspace_react_sdxiv_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"static/js/main.048b4cc0.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport { Table, Button, message } from \"antd\";\nimport \"antd/dist/antd.css\";\n\nconst columns = [\n  {\n    title: \"房间类型\",\n    dataIndex: \"type\",\n    key: \"type\"\n  },\n  {\n    title: \"单价\",\n    dataIndex: \"price\",\n    key: \"price\"\n  },\n  {\n    title: \"房间大小\",\n    dataIndex: \"size\",\n    key: \"size\"\n  },\n  {\n    title: \"好评率\",\n    dataIndex: \"likes\",\n    key: \"likes\"\n  },\n  {\n    title: \"动作\",\n    dataIndex: \"action\",\n    key: \"action\",\n    render: (func, record) => {\n      return <Button onClick={() => func(record)}>加入购物车</Button>;\n    }\n  }\n];\n\nconst orderColumns = [\n  {\n    title: \"房间类型\",\n    dataIndex: \"type\",\n    key: \"type\"\n  },\n  {\n    title: \"数量\",\n    dataIndex: \"count\",\n    key: \"count\"\n  },\n  {\n    title: \"总价\",\n    dataIndex: \"amount\",\n    key: \"amount\"\n  }\n];\n\nexport default function Shopping({ onPush }) {\n  const handlePush = record => {\n    onPush(record);\n    message.info(\"已加入购物车\");\n  };\n\n  const data = [\n    {\n      key: \"1\",\n      type: \"单人间\",\n      price: 426,\n      size: \"42m2\",\n      likes: \"88%\",\n      action: handlePush\n    },\n    {\n      key: \"2\",\n      type: \"双人间\",\n      price: 526,\n      size: \"52m2\",\n      likes: \"82%\",\n      action: handlePush\n    },\n    {\n      key: \"3\",\n      type: \"三人间\",\n      price: 668,\n      size: \"55m2\",\n      likes: \"90%\",\n      action: handlePush\n    },\n    {\n      key: \"4\",\n      type: \"标间\",\n      price: 668,\n      size: \"55m2\",\n      likes: \"92%\",\n      action: handlePush\n    },\n    {\n      key: \"5\",\n      type: \"商务行政房\",\n      price: 888,\n      size: \"65m2\",\n      likes: \"94%\",\n      action: handlePush\n    },\n    {\n      key: \"6\",\n      type: \"商务套房\",\n      price: 988,\n      size: \"65m2\",\n      likes: \"94%\",\n      action: handlePush\n    },\n    {\n      key: \"7\",\n      type: \"豪华套房\",\n      price: 1088,\n      size: \"70m2\",\n      likes: \"95%\",\n      action: handlePush\n    }\n  ];\n\n  return <Table title={() => \"选择房间\"} columns={columns} dataSource={data} />;\n}\n\nfunction Order({ datas = [] }) {\n  const all_data = [];\n  for (let d of datas) {\n    let ac = all_data.find(v => v.type === d.type);\n    if (!ac) {\n      ac = {\n        type: d.type,\n        amount: 0,\n        count: 0,\n        key: all_data.length\n      };\n      all_data.push(ac);\n    }\n    ac[\"amount\"] += d.price;\n    ac[\"count\"] += 1;\n  }\n\n  const priceAmount = all_data.reduce((p, a) => p + a.amount, 0);\n  return (\n    <Table\n      footer={() => `总计价格:${priceAmount}`}\n      title={() => \"购物车\"}\n      columns={orderColumns}\n      dataSource={all_data}\n    />\n  );\n}\n\nfunction App() {\n  const [shopList, setShopList] = useState([]);\n  const pushShop = record => setShopList([...shopList, record]);\n  return (\n    <div className=\"App\">\n      <Shopping onPush={pushShop} />\n      <Order datas={shopList} />\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}