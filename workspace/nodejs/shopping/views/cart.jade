extends layout
block head
  link(rel='stylesheet', href='/stylesheets/detail.css')
  link(rel='stylesheet', href='https://libs.cdnjs.net/font-awesome/5.12.0-1/css/all.min.css')

block content
  .row.col-md-6.offset-md-3.pt-4
    h2.page-title carts
  .row.flex-grow-1
    .col-md-6.offset-md-3.pt-4
      div(v-if="hasItems")
        ul.list-group(v-for="item in items")
          li.list-group-item.d-flex.justify-content-between.align-items-center.items
            div 
              span {{item.product.name}}
              span.count * {{item.count}}
              
            span {{item.product.price}}
            section
              button.btn.btn-default(@click="deleteCart(item._id)")
                i.fa.fa-trash.fa-lg
      div(v-else)
        div.empty No Items
      section.mt-4.d-flex.justify-content-between
        section.total-price(v-if="hasItems") Total Price: {{totalPrice}}
        section
          section(v-if="hasItems")
            button.btn.btn-primary Pay Now
            a.btn.btn-success.ml-4(href="/shopping") Back
          section(v-else)
            button.btn.btn-primary.disabled Pay Now
            a.btn.btn-success.ml-4(href="/shopping") Back
      
          

block script
  script(src='/javascripts/vue.js')
  script(src='/javascripts/cartVue.js')
